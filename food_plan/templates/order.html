{% extends "master.html" %}
{% load static %}
{% block main %}
<body>
    {% include "header.html" %}
    <main style="margin-top: calc(2rem + 85px);">
        <div class="card col-12 p-3 mb-5 foodplan__shadow">
            <h4 class="foodplan__backButton">
                <strong><small><a href="#" class="link-secondary fw-light"></a></small></strong>
            </h4>
            <a href="/" class="link-secondary fw-light foodplan__backButton">
                <svg xmlns="http://www.w3.org/2000/svg" width="9%" height="9%" fill="currentColor" class="bi bi-arrow-left-circle"
                    viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                    d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z" />
                </svg>
            </a>
            <h2 class="text-center"><strong>Составить меню</strong></h2>
        </div>
        <section>
            <div class="container">
                <h1><strong class="foodplan_green">1 шаг </strong>до первого меню</h1>
                <h5 class="text-secondary mb-3">Вам будет доступно 4 типа меню: Классическое, Низкоуглеводное, Вегетарианское и Кето.</h5>
                <div class="row mb-5">
                    <div class="col-6 col-md-3">

                        <label for="classic" class="position-relative" style="cursor: pointer;">
                            <img src="{% static 'img/menu_classical.png' %}" alt="" class="w-100">
                            <input form="order" type="radio" name="foodtype" id="classic" value="classic" class="foodplan_selected d-none">
                            <div class="img_selected" id="img1"></div>
                        </label>
                    </div>
                    <div class="col-6 col-md-3">

                        <label for="low" class="position-relative" style="cursor: pointer;">
                            <img src="{% static 'img/menu_nizkougl.png' %}" alt="" class="w-100">
                            <input form="order" type="radio" name="foodtype" id="low" value="low" class="foodplan_selected d-none">
                            <div class="img_selected" id="img2"></div>
                        </label>
                    </div>
                    <div class="col-6 col-md-3">

                        <label for="veg" class="position-relative" style="cursor: pointer;">
                            <img src="{% static 'img/menu_veg.png' %}" alt="" class="w-100">
                            <input form="order" type="radio" name="foodtype" id="veg" value="veg" class="foodplan_selected d-none">
                            <div class="img_selected" id="img3"></div>
                        </label>
                    </div>
                    <div class="col-6 col-md-3">

                        <label for="keto" class="position-relative" style="cursor: pointer;">
                            <img src="{% static 'img/menu_keto.png' %}" alt="" class="w-100">
                            <input form="order" type="radio" name="foodtype" id="keto" value="keto" class="foodplan_selected d-none">
                            <div class="img_selected" id="img4"></div>
                        </label>
                    </div>
                    {% if message%}
                    <dialog open id="closeMe" class="foodplan__border_green foodplan_green foodplan__shadow" aria-modal="true">
                        <h2 class="text-center"><strong>{{message}}</strong></h2>
                        <form method="dialog"><br>
                            <center><button type="submit" class="btn shadow-nonew-100 btn-outline-success foodplan_green foodplan__border_green">Закрыть</button></center>
                        </form>
                    </dialog>
                    {% endif %}
                </div>
                <h2><strong>Выберите подходящий тариф</strong></h2>
                <form id="order" method="POST" action="purchase">
                {% csrf_token %}

                <table class="table text-center text-truncate mb-5">
                    <tbody>
                        <tr>
                            <th scope="row" class="text-start">Срок</th>
                            <td>
                                <select name="limitation" class="form-select">
                                    <option value="1 мес." selected>1 мес.</option>
                                    <option value="3 мес.">3 мес.</option>
                                    <option value="6 мес.">6 мес.</option>
                                    <option value="12 мес.">12 мес.</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-start">Завтраки</th>
                            <td>
                                <select name="breakfast" class="form-select">
                                    <option value="1" selected>&#10004;</option>
                                    <option value="0">&#10008;</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-start">Обеды</th>
                            <td>
                                <select name="lunch" class="form-select">
                                    <option value="1" selected>&#10004;</option>
                                    <option value="0">&#10008;</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-start">Ужины</th>
                            <td>
                                <select name="dinner" class="form-select">
                                    <option value="1" selected>&#10004;</option>
                                    <option value="0">&#10008;</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-start">Десерты</th>
                            <td>
                                <select name="dessert" class="form-select">
                                    <option value=1 selected>&#10004;</option>
                                    <option value=0>&#10008;</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-start">Кол-во персон</th>
                            <td>
                                <select name="number_persons" class="form-select">
                                    <option value="1" selected>1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-start">Аллергии</th>
                            <td>
                                <div class="form-check d-flex justify-content-start">
                                    <input class="form-check-input me-1 foodplan_checked-green" type="checkbox" value="True" name="allergy1">
                                    <label class="form-check-label" for="allergy1">
                                        Рыба и морепродукты
                                    </label>
                                </div>
                                <div class="form-check d-flex justify-content-start">
                                    <input class="form-check-input me-1 foodplan_checked-green" type="checkbox" value="True" name="allergy2">
                                    <label class="form-check-label" for="allergy2">
                                        Мясо
                                    </label>
                                </div>
                                <div class="form-check d-flex justify-content-start">
                                    <input class="form-check-input me-1 foodplan_checked-green" type="checkbox" value="True" name="allergy3">
                                    <label class="form-check-label" for="allergy3">
                                        Зерновые
                                    </label>
                                </div>
                                <div class="form-check d-flex justify-content-start">
                                    <input class="form-check-input me-1 foodplan_checked-green" type="checkbox" value="True" name="allergy4">
                                    <label class="form-check-label" for="allergy4">
                                        Продукты пчеловодства
                                    </label>
                                </div>
                                <div class="form-check d-flex justify-content-start">
                                    <input class="form-check-input me-1 foodplan_checked-green" type="checkbox" value="True" name="allergy5">
                                    <label class="form-check-label" for="allergy5">
                                        Орехи и бобовые
                                    </label>
                                </div>
                                <div class="form-check d-flex justify-content-start">
                                    <input class="form-check-input me-1 foodplan_checked-green" type="checkbox" value="True" name="allergy6">
                                    <label class="form-check-label" for="allergy6">
                                        Молочные продукты
                                    </label>
                                </div>
                            </td>

                        </tr>
                    </tbody>
                </table>
                <button type="submit" id="TableSubmit" class="d-none"></button>
                </form>
                {% if not price %}
                <form id="order" class=" container card d-flex center align-items-baseline mb-5 p-3 foodplan__bg_grey">
                    <button form="order" type="submit" class="btn shadow-none btn-outline-success foodplan_green foodplan__border_green ">Расчитать стоимость</button>
                </form>
                {% else %}
                <form id="order" class="card d-flex flex-row  mb-5 p-3 foodplan__bg_grey">
                    <label class="form-label me-2">{{descriptions}}</label>
                    <button form="order" type="submit" class="btn shadow-none btn-outline-success foodplan_green foodplan__border_green">Пересчитать стоимость</button>
                </form>
                <form id="order2" class="card d-flex flex-row align-items-baseline mb-5 p-3 foodplan__bg_grey">
                    <label for="exampleInputPassword1" class="form-label me-2">Стоимость</label>
                    <input type="text" class="form-control me-2" id="password"  name="price" value="{{price}} рублей" readonly>
                    <button form="order2" type="submit" class="btn shadow-none btn-outline-success foodplan_green foodplan__border_green">Оплатить</button>
                </form>
                {% endif %}
                <!--form class="card d-flex flex-row align-items-baseline mb-5 p-3 foodplan__bg_grey">
                    <label for="exampleInputPassword1" class="form-label me-2">Промокод</label>
                    <input type="password" class="form-control me-2" id="password">
                    <button type="submit" class="btn shadow-none btn-outline-success foodplan_green foodplan__border_green">Применить</button>
                </form-->
            </div>
        </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
{% endblock %}
</body>
